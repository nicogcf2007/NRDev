"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[658],{7658:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var n=r(2644),i=r(8760),o=r(7387),a=r(6204),l=r(9504);let s=()=>{let e=(0,l.Xb)(),t=(0,l.Kg)();return{particleCount:t?250:e?400:500,spread:t?100:e?120:150,velocityMultiplier:t?.3:e?.38:.5,scrollMultiplier:t?.0039:e?.0065:.013,mouseMultiplier:t?.03:e?.05:.1,antialias:!e,pixelRatio:e?Math.min(window.devicePixelRatio,2):window.devicePixelRatio,renderOnDemand:t,zRange:t?180:e?220:200,recycleDistance:t?8:e?10:6}},u=e=>{let{mousePosition:t={x:0,y:0},scrollY:r=0}=e,u=(0,i.useRef)(null),c=(0,i.useRef)(null),d=(0,i.useRef)(null),h=(0,i.useRef)(0),p=(0,i.useRef)(0),m=(0,i.useMemo)(()=>s(),[]),w=(0,i.useRef)(t),f=(0,i.useRef)(r),v=(0,i.useCallback)(e=>{w.current=e},[]),M=(0,i.useCallback)(e=>{f.current=e},[]);return(0,i.useEffect)(()=>{v(t)},[t,v]),(0,i.useEffect)(()=>{M(r)},[r,M]),(0,i.useEffect)(()=>{if(!u.current)return;let e=new o.Z58,t=new o.ubm(75,window.innerWidth/window.innerHeight,.1,200);t.position.z=4;let r=new a.JeP({alpha:!0,antialias:m.antialias,powerPreference:(0,l.Xb)()?"low-power":"high-performance",stencil:!1,depth:!1});for(r.setPixelRatio(m.pixelRatio),r.setSize(window.innerWidth,window.innerHeight),r.setClearColor(0,0),(0,l.Xb)()&&(r.shadowMap.enabled=!1,r.outputColorSpace=o.er$);u.current.firstChild;)u.current.removeChild(u.current.firstChild);u.current.appendChild(r.domElement);let n=m.particleCount,i=new Float32Array(3*n),s=new Float32Array(n),v=new Float32Array(3*n),M=new Float32Array(3*n),C=-m.zRange,b=m.spread;for(let e=0;e<n;e++){let t=3*e,r=(0,l.Xb)()?.8:.7,n=(0,l.Xb)()?1.2:1;i[t]=(Math.random()-.5)*b*r*n,i[t+1]=(Math.random()-.5)*b*r*n;let o=(0,l.Xb)()?1.3*Math.random():Math.random();i[t+2]=Math.min(o,1)*(-5-C)+C,.7>Math.random()?s[e]=1.8*Math.random()+.8:s[e]=3.5*Math.random()+1.5,.7>Math.random()?v[t]=v[t+1]=v[t+2]=1:(v[t]=1,v[t+1]=1,v[t+2]=.8);let a=.003*m.velocityMultiplier;M[t]=(Math.random()-.5)*a,M[t+1]=(Math.random()-.5)*a,M[t+2]=(.02+.03*Math.random())*m.velocityMultiplier}let g=new o.LoY;g.setAttribute("position",new o.THS(i,3)),g.setAttribute("size",new o.THS(s,1)),g.setAttribute("color",new o.THS(v,3));let y=new o.BKk({vertexShader:"\n                attribute float size;\n                attribute vec3 color;\n                varying vec3 vColor;\n                void main() {\n                    vColor = color;\n                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n                    gl_PointSize = size * (60.0 / -mvPosition.z);\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            ",fragmentShader:"\n                varying vec3 vColor;\n                void main() {\n                    float distanceToCenter = distance(gl_PointCoord, vec2(0.5));\n                    float alpha = 1.0 - smoothstep(0.0, 0.5, distanceToCenter);\n                    gl_FragColor = vec4(vColor, alpha);\n                }\n            ",transparent:!0,blending:o.EZo,depthWrite:!1}),z=new o.ONl(g,y);e.add(z),d.current={scene:e,camera:t,renderer:r,stars:z,velocities:M,geometry:g,material:y};let x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!d.current)return;let{stars:t,velocities:r,camera:i,renderer:o,scene:a}=d.current;if(m.renderOnDemand){if(e-h.current<50){c.current=requestAnimationFrame(x);return}h.current=e}let s=t.geometry.attributes.position,u=s.array;t.position.z=0+f.current*m.scrollMultiplier,p.current++;let v=m.renderOnDemand?3:(0,l.Xb)()?2:1;if(p.current%v==0){for(let e=0;e<n;e++){let n=3*e;if(u[n]+=r[n],u[n+1]+=r[n+1],u[n+2]+=r[n+2],t.position.z+u[n+2]>i.position.z+m.recycleDistance){u[n+2]=C-Math.random()*m.zRange*.3;let e=(0,l.Xb)()?.8:.7,t=(0,l.Xb)()?1.2:1;u[n]=(Math.random()-.5)*b*e*t,u[n+1]=(Math.random()-.5)*b*e*t;let i=.003*m.velocityMultiplier;r[n]=(Math.random()-.5)*i,r[n+1]=(Math.random()-.5)*i,r[n+2]=(.02+.03*Math.random())*m.velocityMultiplier}}s.needsUpdate=!0}let M=m.mouseMultiplier;t.position.x=w.current.x*M,t.position.y=-w.current.y*M,o.render(a,i),c.current=requestAnimationFrame(x)};c.current=requestAnimationFrame(x);let R=()=>{if(d.current){let{camera:e,renderer:t}=d.current;e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),t.setSize(window.innerWidth,window.innerHeight)}};return window.addEventListener("resize",R),()=>{if(window.removeEventListener("resize",R),c.current&&cancelAnimationFrame(c.current),d.current){let{scene:e,renderer:t,geometry:r,material:n}=d.current;if(r.dispose(),n.dispose(),t.dispose(),t.forceContextLoss(),e.clear(),u.current)for(;u.current.firstChild;)u.current.removeChild(u.current.firstChild);d.current=null}}},[]),(0,n.jsx)("div",{ref:u,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:-1}})}}}]);