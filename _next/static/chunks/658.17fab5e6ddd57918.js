"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[658],{7658:(e,t,i)=>{i.r(t),i.d(t,{default:()=>s});var n=i(2644),r=i(8760),o=i(5399),a=i(9504);let l=()=>{let e=(0,a.Xb)(),t=(0,a.Kg)();return{particleCount:t?100:e?200:300,spread:t?60:e?80:100,velocityMultiplier:t?.2:e?.3:.4,scrollMultiplier:t?.004:e?.006:.008,mouseMultiplier:t?.03:e?.045:.09,pixelRatio:Math.min(window.devicePixelRatio,t?1:e?1.2:1.5),maxFPS:t?25:e?45:60,zRange:t?120:e?150:180}},s=e=>{let{propsRef:t}=e,i=(0,r.useRef)(null),a=(0,r.useMemo)(()=>l(),[]);return(0,r.useEffect)(()=>{let e;if(console.log("[ThreeJSParticles] âœ¨ Component mounted & Three.js scene initialized"),!i.current)return;let n=i.current,r=new o.Z58,l=new o.ubm(75,window.innerWidth/window.innerHeight,.1,200);l.position.z=4;let s=new o.JeP({alpha:!0,powerPreference:"low-power",antialias:!1,depth:!1,stencil:!1});s.setPixelRatio(a.pixelRatio),s.setSize(window.innerWidth,window.innerHeight),s.setClearColor(0,0),n.appendChild(s.domElement);let d=new Float32Array(3*a.particleCount),p=new Float32Array(a.particleCount),c=new Float32Array(3*a.particleCount),m=-a.zRange,u=a.spread;for(let e=0;e<a.particleCount;e++){let t=3*e;d[t]=(Math.random()-.5)*u,d[t+1]=(Math.random()-.5)*u,d[t+2]=Math.random()*m,p[e]=3.5*Math.random()+1.5;let i=.002*a.velocityMultiplier;c[t]=(Math.random()-.5)*i,c[t+1]=(Math.random()-.5)*i,c[t+2]=(.015+.02*Math.random())*a.velocityMultiplier}let w=new o.LoY;w.setAttribute("position",new o.THS(d,3).setUsage(o.Vnu)),w.setAttribute("size",new o.THS(p,1));let h=new o.BKk({vertexShader:"\n                attribute float size;\n                void main() {\n                    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n                    gl_PointSize = size * (90.0 / -mvPosition.z);\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            ",fragmentShader:"\n                void main() {\n                    float dist = distance(gl_PointCoord, vec2(0.5));\n                    if (dist > 0.5) discard;\n                    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0 - smoothstep(0.0, 0.5, dist));\n                }\n            ",transparent:!0,blending:o.EZo,depthWrite:!1}),f=new o.ONl(w,h);r.add(f);let M=-1,g=0,v=performance.now(),y=i=>{if(e=requestAnimationFrame(y),!t.current||document.hidden)return;let n=performance.now();if(g++,n-v>5e3){let e=g/((n-v)/1e3);console.log("[ThreeJSParticles] rAF Loop FPS: ".concat(e.toFixed(2))),g=0,v=n}let o=1e3/a.maxFPS,d=i-M;if(d<o)return;M=i;let p=w.attributes.position,m=d/16.67;for(let e=0;e<a.particleCount;e++){let t=3*e;p.array[t]+=c[t]*m,p.array[t+1]+=c[t+1]*m,p.array[t+2]+=c[t+2]*m,f.position.z+p.array[t+2]>l.position.z+10&&(p.array[t+2]=-a.zRange-.2*Math.random(),p.array[t]=(Math.random()-.5)*a.spread,p.array[t+1]=(Math.random()-.5)*a.spread)}p.needsUpdate=!0;let{mousePosition:u,scrollY:h}=t.current;f.position.x=u.x*a.mouseMultiplier,f.position.y=-u.y*a.mouseMultiplier,f.position.z=h*a.scrollMultiplier,s.render(r,l)},z=()=>{l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight)};return window.addEventListener("resize",z,{passive:!0}),y(0),()=>{console.log("[ThreeJSParticles] \uD83E\uDDF9 Component unmounted & Three.js resources cleaned up"),cancelAnimationFrame(e),window.removeEventListener("resize",z),r.traverse(e=>{(e instanceof o.eaF||e instanceof o.ONl)&&(e.geometry&&e.geometry.dispose(),e.material&&(Array.isArray(e.material)?e.material.forEach(e=>e.dispose()):e.material.dispose()))}),r.clear(),s.dispose(),s.forceContextLoss(),n.contains(s.domElement)&&n.removeChild(s.domElement)}},[a,t]),(0,n.jsx)("div",{ref:i,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})}}}]);